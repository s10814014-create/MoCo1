<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>今日外出指南</title>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f1f8ff; /* 淺灰藍背景 */
    color: #333;
    margin: 0;
    padding: 20px;
    text-align: center;
}
h2 {
    font-size: 2em;
    color: #1e3a8a; /* 深藍色 */
    margin-bottom: 20px;
}
h3 {
    font-size: 1.5em;
    color: #8b729b; /* 紫色，讓它不那麼單調 */
    margin-bottom: 15px;
}
p, li {
    font-size: 1.2em;
    line-height: 1.6;
}
button {
    background-color: #42a5f5; /* 柔和的藍色按鈕 */
    color: white;
    font-size: 1em;
    padding: 12px 25px;
    margin: 10px 0;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
}
button:hover {
    background-color: #1e88e5; /* 更深的藍色 */
}
input {
    padding: 10px;
    width: 70%;
    margin-bottom: 20px;
    font-size: 1.1em;
    border: 2px solid #42a5f5; /* 藍色邊框 */
    border-radius: 5px;
    outline: none;
    transition: border-color 0.3s;
}
input:focus {
    border-color: #1e3a8a; /* 深藍色聚焦邊框 */
}
ul {
    list-style-type: none;
    padding: 0;
    margin: 0;
}
ul li {
    cursor: pointer;
    color: #42a5f5; /* 柔和的藍色文字 */
    text-decoration: underline;
    margin: 10px 0;
    font-size: 1.2em;
}
ul li:hover {
    color: #1e3a8a; /* 深藍色懸停效果 */
}
.result {
    font-size: 1.3em;
    font-weight: bold;
    margin-top: 20px;
    color: #039be5; /* 淺藍色結果文字 */
}
.jiao-result {
    font-size: 1.5em;
    margin-top: 20px;
    color: #0288d1; /* 中藍色結果 */
}
.location {
    font-size: 1.1em;
    margin-top: 20px;
    font-weight: bold;
    color: #039be5; /* 位置文字 */
}
.jiao-images {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}
.jiao-images img {
    width: 250px;
    margin: 10px;
}
</style>
</head>
<body>

<h2>今日外出指南</h2>

<!-- 位置 -->
<button onclick="getLocation()">取得我的位置</button>
<p id="location" class="location">尚未取得資料...</p>

<!-- 擲筊 -->
<h3>擲筊判斷今天適不適合出門</h3>
<button onclick="throwJiao()">擲筊</button>
<p id="jiaoResult" class="jiao-result">尚未擲筊</p>

<!-- 顯示茭圖案 -->
<div id="jiaoImages" class="jiao-images"></div>

<!-- 附近推薦 -->
<h3>附近推薦</h3>
<ul id="places">請先取得位置...</ul>

<!-- 自訂搜尋 -->
<h3>自訂搜尋</h3>
<input type="text" id="userInput" placeholder="輸入你想找的地點">
<button onclick="searchUserPlace()">搜尋</button>

<script>
let userLat = null;
let userLon = null;
let canGoOut = true; // 擲筊結果

// 取得位置
function getLocation() {
    if (!navigator.geolocation) {
        alert("裝置不支援地理位置");
        return;
    }

    navigator.geolocation.getCurrentPosition(
        function(position) {
            userLat = position.coords.latitude;
            userLon = position.coords.longitude;

            document.getElementById("location").textContent =
                `緯度: ${userLat}, 經度: ${userLon}`;

            showPlaces();
        },
        function(error) {
            alert("無法取得位置: " + error.message);
        }
    );
}

// 顯示附近地點
function showPlaces() {
    const places = ["星巴克", "麥當勞", "全聯", "動物園", "購物中心"];
    const ul = document.getElementById("places");
    ul.innerHTML = "";

    places.forEach(function(place) {
        const li = document.createElement("li");
        li.textContent = place;
        li.onclick = function() {
            const url = `https://www.google.com/maps/search/${encodeURIComponent(place)}/@${userLat},${userLon},15z`;
            window.open(url, "_blank");
        };
        ul.appendChild(li);
    });
}

// 自訂搜尋
function searchUserPlace() {
    const place = document.getElementById("userInput").value.trim();
    if (!place) {
        alert("請輸入要搜尋的地點");
        return;
    }
    if (userLat === null) {
        alert("請先取得位置");
        return;
    }
    const url = `https://www.google.com/maps/search/${encodeURIComponent(place)}/@${userLat},${userLon},15z`;
    window.open(url, "_blank");
}

// 擲筊判斷
function throwJiao() {
    const jiao1 = Math.floor(Math.random() * 2); // 0 or 1
    const jiao2 = Math.floor(Math.random() * 2);

    let text = "";
    const jiaoImages = document.getElementById("jiaoImages");
    jiaoImages.innerHTML = ""; // 清空圖片

    if (jiao1 !== jiao2) {
        text = "聖筊：今天非常適合出門！";
        // 顯示聖筊圖片
        jiaoImages.innerHTML = `
        <img src="https://s10814014-create.github.io/MoCo1/images/03.jpg" alt="聖筊" />
        `;
        canGoOut = true;
    } else if (jiao1 === 0 && jiao2 === 0) {
        text = "笑筊：今天普通，外出請自行斟酌。";
        // 顯示笑筊圖片
        jiaoImages.innerHTML = `
        <img src="https://s10814014-create.github.io/MoCo1/images/02.jpg" alt="笑筊" />
        `;
        canGoOut = true;
    } else {
        text = "陰筊：今天不太適合出門，建議在家休息。";
        // 顯示陰筊圖片
        jiaoImages.innerHTML = `
        <img src="https://s10814014-create.github.io/MoCo1/images/01.jpg" alt="陰筊" />
        `;
        canGoOut = false;
    }

    document.getElementById("jiaoResult").textContent = text;
}
</script>

</body>
</html>
